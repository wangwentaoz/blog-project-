{"ast":null,"code":"//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\nexport default {\n  data: function data() {\n    return {\n      articleList: []\n    };\n  },\n  methods: {\n    handleAdd: function handleAdd() {\n      this.$router.push({\n        name: 'editArticle'\n      });\n    },\n    handleLook: function handleLook(row) {\n      var id = row.id;\n      window.open('#/detail/' + id);\n    },\n    handleEdit: function handleEdit(row) {\n      var id = row.id;\n      this.$router.push({\n        path: \"/article/edit/\".concat(id)\n      });\n    },\n    handleDelect: function handleDelect(row) {\n      var _this = this;\n\n      var id = row.id;\n      this.$confirm('此操作将删除该文章, 是否继续?', '提示', {\n        confirmButtonText: '确定',\n        cancelButtonText: '取消',\n        type: 'warning'\n      }).then(function () {\n        _this.$axios.post('/api/article/delete', {\n          article_id: id\n        }).then(function (res) {\n          if (res.data.code === 0) {\n            //发起删除请求操作\n            _this.$message({\n              type: 'success',\n              message: \"\".concat(id, \"\\u6587\\u7AE0\\u5220\\u9664\\u6210\\u529F!\")\n            });\n\n            setTimeout(function () {\n              location.reload();\n            }, 1500);\n          }\n        }).catch(function (e) {\n          console.log(e);\n        });\n      }).catch(function () {\n        _this.$message({\n          type: 'info',\n          message: '已取消删除'\n        });\n      });\n    },\n    getMyBlogList: function getMyBlogList() {\n      var _this2 = this;\n\n      this.$axios.get('/api/article/myList').then(function (res) {\n        if (res.data.code === 0) {\n          _this2.articleList = res.data.data;\n        }\n      }).catch(function (e) {\n        console.log(e);\n      });\n    }\n  },\n  created: function created() {\n    this.getMyBlogList();\n  }\n};","map":{"version":3,"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAoCA;EACAA,IADA,kBACA;IACA;MACAC;IADA;EAGA,CALA;EAMAC;IACAC,SADA,uBACA;MACA;QAAAC;MAAA;IACA,CAHA;IAIAC,UAJA,sBAIAC,GAJA,EAIA;MACA;MACAC;IACA,CAPA;IAQAC,UARA,sBAQAF,GARA,EAQA;MACA;MACA;QAAAG;MAAA;IACA,CAXA;IAYAC,YAZA,wBAYAJ,GAZA,EAYA;MAAA;;MACA;MACA;QACAK,uBADA;QAEAC,sBAFA;QAGAC;MAHA,GAKAC,IALA,CAKA;QACA,aACAC,IADA,CACA,qBADA,EACA;UACAC;QADA,CADA,EAIAF,IAJA,CAIA;UACA;YACA;YACA;cACAD,eADA;cAEAI;YAFA;;YAIAC;cACAC;YACA,CAFA,EAEA,IAFA;UAGA;QACA,CAfA,EAgBAC,KAhBA,CAgBA;UACAC;QACA,CAlBA;MAmBA,CAzBA,EA0BAD,KA1BA,CA0BA;QACA;UACAP,YADA;UAEAI;QAFA;MAIA,CA/BA;IAgCA,CA9CA;IA+CAK,aA/CA,2BA+CA;MAAA;;MACA,YACAC,GADA,CACA,qBADA,EAEAT,IAFA,CAEA;QACA;UACA;QACA;MACA,CANA,EAOAM,KAPA,CAOA;QACAC;MACA,CATA;IAUA;EA1DA,CANA;EAkEAG,OAlEA,qBAkEA;IACA;EACA;AApEA","names":["data","articleList","methods","handleAdd","name","handleLook","row","window","handleEdit","path","handleDelect","confirmButtonText","cancelButtonText","type","then","post","article_id","message","setTimeout","location","catch","console","getMyBlogList","get","created"],"sourceRoot":"src/views","sources":["Article.vue"],"sourcesContent":["<template>\n  <div class=\"wrapper\">\n    <h1 class=\"title\">文章列表</h1>\n    <div class=\"article\">\n      <el-button class=\"addBtn\" @click=\"handleAdd\">新增+</el-button>\n      <el-table :data=\"articleList\" border stripe>\n        <el-table-column prop=\"title\" label=\"标题\" width=\"180\">\n        </el-table-column>\n        <el-table-column label=\"日期\" width=\"180\">\n          <template slot-scope=\"scope\">\n            <i class=\"el-icon-time\"></i>\n            <span>{{ scope.row.create_time }}</span>\n          </template>\n        </el-table-column>\n        <el-table-column label=\"操作\">\n          <template slot-scope=\"scope\">\n            <el-button size=\"mini\" type=\"primary\" @click=\"handleLook(scope.row)\"\n              >查看</el-button\n            >\n            <el-button size=\"mini\" type=\"success\" @click=\"handleEdit(scope.row)\"\n              >编辑</el-button\n            >\n            <el-button\n              size=\"mini\"\n              type=\"danger\"\n              @click=\"handleDelect(scope.row)\"\n              >删除</el-button\n            >\n          </template>\n        </el-table-column>\n      </el-table>\n    </div>\n  </div>\n</template>\n\n<script>\nexport default {\n  data() {\n    return {\n      articleList: [],\n    };\n  },\n  methods: {\n    handleAdd() {\n      this.$router.push({ name: 'editArticle' });\n    },\n    handleLook(row) {\n      let id = row.id;\n      window.open('#/detail/' + id);\n    },\n    handleEdit(row) {\n      let id = row.id;\n      this.$router.push({ path: `/article/edit/${id}` });\n    },\n    handleDelect(row) {\n      let id = row.id;\n      this.$confirm('此操作将删除该文章, 是否继续?', '提示', {\n        confirmButtonText: '确定',\n        cancelButtonText: '取消',\n        type: 'warning',\n      })\n        .then(() => {\n          this.$axios\n            .post('/api/article/delete', {\n              article_id: id,\n            })\n            .then((res) => {\n              if (res.data.code === 0) {\n                //发起删除请求操作\n                this.$message({\n                  type: 'success',\n                  message: `${id}文章删除成功!`,\n                });\n                setTimeout(() => {\n                  location.reload();\n                }, 1500);\n              }\n            })\n            .catch((e) => {\n              console.log(e);\n            });\n        })\n        .catch(() => {\n          this.$message({\n            type: 'info',\n            message: '已取消删除',\n          });\n        });\n    },\n    getMyBlogList() {\n      this.$axios\n        .get('/api/article/myList')\n        .then((res) => {\n          if (res.data.code === 0) {\n            this.articleList = res.data.data;\n          }\n        })\n        .catch((e) => {\n          console.log(e);\n        });\n    },\n  },\n  created() {\n    this.getMyBlogList();\n  },\n};\n</script>\n\n<style lang=\"scss\" scoped>\n.title {\n  margin: 30px 0;\n  text-align: center;\n  font-weight: bold;\n  font-size: 28px;\n}\n.article {\n  .addBtn {\n    float: right;\n    margin-bottom: 20px;\n  }\n}\n::v-deep .el-table {\n  .cell {\n    text-align: center;\n  }\n}\n</style>\n"]},"metadata":{},"sourceType":"module"}